<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Title</title>

	<link rel="stylesheet" href="style.css">
</head>
<body>
<!--<div class="alert" onclick="alert('click')">-->
<!--	<p>Lorem ipsum dolor sit amet, <span style="background-color: green; color: black; padding: 3px">consectetur adipisicing elit. Alias autem beatae blanditiis consequatur doloremque ea-->
<!--		excepturi harum sunt. Deleniti, quod.</span>-->
<!--	</p>-->
<!--</div>-->

<!--<div onclick="alert('DIV 1')" style="border: 2px solid tomato; padding: 10px" class="block">-->
<!--	DIV1-->
<!--	<div onclick="alert('DIV 2')" style="border: 2px solid tomato; padding: 10px">-->
<!--		DIV2-->
<!--		<div onclick="alert('DIV 3')" style="border: 2px solid tomato; padding: 10px" class="stop">-->
<!--			DIV3-->
<!--		</div>-->
<!--	</div>-->
<!--</div>-->

<form style="border: 2px solid tomato; padding: 10px" class="block-form">
	<div onclick="alert('DIV')" style="border: 2px solid tomato; padding: 10px">
		DIV
		<p style="border: 2px solid tomato; padding: 10px" class="stop-form">
			p
		</p>
	</div>
</form>

<table id="table">
	<tr>
		<td>1</td>
		<td>2</td>
		<td>3</td>
		<td>4</td>
	</tr>
	<tr>
		<td>5</td>
		<td>6</td>
		<td>7</td>
		<td>8</td>
	</tr>
	<tr>
		<td>9</td>
		<td>10</td>
		<td>11</td>
		<td>12</td>
	</tr>
</table>

<script>
  // document.querySelector('.block').addEventListener('click', function (e) {
  //   console.log(this)
  //   console.log(e.target)
  // })
  // document.querySelector('.stop').addEventListener('click', function (e) {
  //   e.stopPropagation()
  //   console.log(this)
  //   console.log(e.target)
  //   console.log(e.currentTarget)
  // })

  for (const elem of document.querySelectorAll('*')) {
    elem.addEventListener('click', function (e) {
      console.log(elem.tagName + ' Phase ' + e.eventPhase)
    }, true)
  }


  //delegirivanie
  let currentTd
  table.onclick = function (e) {
    let td = e.target.closest('td')

    if (!td) return

    if (!table.contains(td)) return

    hover(td)
  }

  function hover(td) {
    if (currentTd) {
      currentTd.classList.remove('bgc')
    }

    currentTd = td
    currentTd.classList.add('bgc')
  }
</script>

</body>
</html>